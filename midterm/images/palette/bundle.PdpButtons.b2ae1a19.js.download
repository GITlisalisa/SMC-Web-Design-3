(window.webpackJsonp=window.webpackJsonp||[]).push([[51,14,22,66,101],{1152:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),i=a(2),o=a.n(i),n=a(7),c=a(1),d=a(194),l=a(684),p=function(e,t,a){return t&&u(e.prototype,t),a&&u(e,a),e};function u(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,s.a.Component),p(m,[{key:"componentShouldUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.aem,a=e.addtocartconfig,i=e.priceConfig,o=e.clickToPayConfig,n=c.get(t,"isClickToPay",!1);return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"product-description_buttons_container"},s.a.createElement(d.default,{addtocartconfig:a,priceConfig:i,animtimer:"5000"}),n&&s.a.createElement(l.default,{clickToPayConfig:o})))}}]),m);function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}f.propTypes={aem:o.a.object.isRequired,clickToPayConfig:o.a.any.isRequired,priceConfig:o.a.any.isRequired,addtocartconfig:o.a.any.isRequired},t.default=Object(n.connect)(function(e){return{aem:e.aem}})(f)},127:function(e,t,a){var i=a(183),o=a(284),n=a(80),r=a(31);e.exports=function(e,t){return(r(e)?i:o)(e,n(t,3))}},128:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"e",function(){return c});var s=a(27),i=function(t){return function(e){e({type:s.a.TRIGGER_MODAL_SAVE_CTA,payload:t})}},o=function(){return function(e){return e({type:s.a.DELETE_CTA})}},n=function(){return function(e,t){var a=t(),i=a.ringFlyout,o=a.productDetails.selectedQuantity,n=i.currentCTAAction;if(i.ringFlyoutTriggered){window.sessionStorage.ringFlyout||(window.sessionStorage.ringFlyout="");var r=JSON.stringify({currentCTAAction:n,oldUrl:window.location.pathname,quantity:o});window.sessionStorage.setItem(s.a.RING_FLYOUT,r)}}},r=function(){return function(e){e({type:s.a.DELETE_FROM_SESSION}),JSON.parse(window.sessionStorage.getItem(s.a.RING_FLYOUT))&&window.sessionStorage.removeItem(s.a.RING_FLYOUT)}},c=function(t){return function(e){e({type:s.a.TRIGGER_FIIS_SIZE,payload:t})}}},14:function(e,t,a){"use strict";var i=a(0),w=a.n(i),o=a(2),n=a.n(o),r=a(5),_=a.n(r),C=a(26),E=a(6),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},s=function(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e};function c(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,w.a.Component),s(l,[{key:"componentDidMount",value:function(){this.props.isLazyLoad&&window.lazyLoad&&window.lazyLoad.update()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.defaultSrc;e.defaultSrc!==a&&this.setState({isImageLoadingBroken:!0},function(){t.setState({isImageLoadingBroken:!1})})}},{key:"componentDidUpdate",value:function(){this.props.isLazyLoad&&window.lazyLoad&&window.lazyLoad.update()}},{key:"onLoadHandler",value:function(){window.aos&&window.aos.refresh()}},{key:"handleImageLoadingError",value:function(){this.setState({isImageLoadingBroken:!0})}},{key:"render",value:function(){function e(){function e(e){return 736<e?"default":e}function t(e){return"default"!==e?Math.round(e):e}var a=window.innerWidth,i=parseInt(E.a.tabletBreakPoint,10),o=a<i?a/2:a/4,n=o<=368?2*o:"default";return{oneXdevice:t(e(o)),twoXdevice:t(e(n))}}var t=this.props,a=t.isLazyLoad,i=t.altText,o=t.sources,n=t.defaultSrc,r=t.customClass,s=t.clickHandler,c=t.keypressHandler,d=t.isClickable,l=t.hiddenOnError,p=t.captionAlignment,u=t.caption,f=t.onLoadHandler,m=t.isProductTile,h=this.state.isImageLoadingBroken,g=d?{role:"button",onClick:s,onKeyPress:c,tabIndex:"-1"}:{},b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQAQMAAAC6caSPAAAABlBMVEX///////9VfPVsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABzklEQVR4nO3aMW7bMBTG8e+ViejBldUtAQQkR3A3DgGi9CTqDdytW1h0yZT0AD1IRmbLMXSEZPNgRKUs2u3GZwNuEOT7DYY0/EETEp8XA0RERERERERERERERERERERERG+Bx2R7XUHyQbBPuE7XJ3jBrMsVEmZL9H68cdLj7CmXmHC2kj6MN99N7y+X+aSu5WGb/PTO5RIbXGl8N94srYRFnU/mhUGbkgKhneaSj2FR2JTIfYnQZZPT0NoCi/W1cVN0oVQkpsAcF+LXSRuKXPI5JbXxKHZLSgNt8nWTWGCqSx5SYuOuTw6VyI/QmVs4mN/A3NX4FmwmMf8mC10iKZH4AreqpJC0F8RjElR72SOZ9cttIn1/6CRuf+fkXpvECTOel+G5QHde4mG3dkiGI+9KdJ0iGc/+8I7Bqc6+pAkzvPxwqgkjaY6NiWqOSZqWw0GOiWZabmbymKhmsqTJ7yTED9Xkxx6/L0RERERERERERERERERERPRuNM1Bk3KbfDhe+RtU06rKJJO/ydF5TABVIuc7JjL8i2LnVdaJWcVE0PzKJWXlzfPssfmyzyoxuRmST+pksl5lolrlqLmSzfbvHuf55/KfNa/9Bd6bP2vFraTVfi13AAAAAElFTkSuQmCC",y=m&&"default"!==e().oneXdevice&&Object(C.y)(n,[{hei:e().oneXdevice},{wid:e().oneXdevice}])||n,v=m&&"default"!==e().twoXdevice&&Object(C.y)(n,[{hei:e().twoXdevice},{wid:e().twoXdevice}])||n;return o.sort(function(e,t){return e.maxMedia<t.maxMedia?-1:e.maxMedia>t.maxMedia?1:0}),h?null:w.a.createElement("div",k({className:_()("tiffany-picture",""+r)},g),"top"===p.toLowerCase()&&w.a.createElement("span",{className:"picture-caption"},u),!m&&w.a.createElement("picture",null,0<o.length&&o.map(function(e,t){return w.a.createElement("source",{key:t.toString(),media:"(max-width: "+e.maxMedia+"px)","data-srcset":a?e.src:"",srcSet:a?"":e.src})}),l&&w.a.createElement("img",{src:n,alt:i,className:"image",onError:this.handleImageLoadingError,onLoad:f}),!l&&w.a.createElement("img",{"data-src":a?n:"",src:a?b:n,alt:i,className:_()("image",{"load-lazily":a}),onLoad:f})),m&&w.a.createElement("picture",null,l&&w.a.createElement("img",{src:n,alt:i,className:"image",onError:this.handleImageLoadingError,onLoad:f}),!l&&w.a.createElement("img",{className:_()("image",{"load-lazily":a}),src:a?b:y,srcSet:v+" 2x, "+y,alt:i,"data-src":a?y:"","data-srcset":v+" 2x, "+y,onLoad:f})),"bottom"===p.toLowerCase()&&w.a.createElement("span",{className:"picture-caption"},u))}}]),l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.state={isImageLoadingBroken:!1},t.handleImageLoadingError=t.handleImageLoadingError.bind(t),t}d.propTypes={isLazyLoad:n.a.bool,isClickable:n.a.bool,altText:n.a.string.isRequired,sources:n.a.array,defaultSrc:n.a.string.isRequired,customClass:n.a.string,clickHandler:n.a.func,keypressHandler:n.a.func,hiddenOnError:n.a.bool,onLoadHandler:n.a.func,caption:n.a.string,captionAlignment:n.a.string},d.defaultProps={customClass:"",sources:[],clickHandler:function(){},keypressHandler:function(){},onLoadHandler:function(){},isClickable:!1,hiddenOnError:!1,caption:"",captionAlignment:"bottom",isLazyLoad:!0},t.a=d},193:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r});var d=a(56),c=a(18),l=a(8),p=a(1),u=(a(11),a(426)),i=function(a){return function(e,t){e({type:c.a.UPDATE_SELECTED_PRODUCT_QUANTITY,payload:a})}};function f(e,t,a,i,o){var n=2<arguments.length&&void 0!==a?a:function(){},r=3<arguments.length&&void 0!==i?i:function(){},s=o;Object(d.a)(e).then(function(){n(),t||(u(window,"refreshShoppingBag"),s({type:c.a.ADD_TO_BAG_SUCCESS}))}).catch(function(e){e&&e.validationErrors&&e.validationErrors.ProductMaxQuantityLimitError&&s({type:c.a.ADD_TO_BAG_MAX_QUANTITY_FAILURE}),r(e)})}var o=function(n,e,t,a){var r=1<arguments.length&&void 0!==e&&e,s=2<arguments.length&&void 0!==t?t:function(){},c=3<arguments.length&&void 0!==a?a:function(){};return function(t,e){var a=p.get(window,"tiffany.authoredContent.sessionCookieName","mysid2"),i=l.b(a),o=p.get(window,"tiffany.authoredContent.sessionConfig");!i&&o?Object(d.b)(o).then(function(e){l.e(a,e,{secure:!0},!0),p.set(n,"payload.webCustomerId",e),f(n,r,s,c,t)}).catch(function(e){c(e)}):i&&(p.set(n,"payload.webCustomerId",i),f(n,r,s,c,t))}},n=function(e){var a=0<arguments.length&&void 0!==e&&e;return function(e,t){a&&(u(window,"refreshShoppingBag"),e({type:c.a.ADD_TO_BAG_SUCCESS}))}},r=function(e){return function(t){Object(d.d)(e).then(function(e){e&&t({type:c.a.FETCH_PRODUCT_DETAILS_GRID,payload:e.products})})}}},194:function(e,t,a){"use strict";a.r(t);var y=a(0),v=a.n(y),i=a(40),o=a.n(i),n=a(2),r=a.n(n),s=a(10),w=a.n(s),c=a(7),I=a(1),d=a(5),_=a.n(d),u=a(3),A=a(19),C=a(11),P=a(193),E=a(23),k=a(6),O=a(33),S=a(212),T=a(52),l=a(128),N=a(27),B=a(256),p=function(e,t,a){return t&&f(e.prototype,t),a&&f(e,a),e};function f(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,v.a.Component),p(h,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.triggerCTA,i=t.shouldExecuteCTA,o=t.isClickToPay;i&&a&&!o&&setTimeout(function(){e.addtobag_btn&&e.addtobag_btn.current&&(window.outerWidth<900?e.addtobag_btn.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}):e.addtobag_btn.current.focus()),e.addToCartHandler(void 0,{shouldStopCallback:!0}),e.props.dispatch(Object(l.b)())},3e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.sizingData!==e.sizingData&&void 0!==e.sizingData&&null!==e.sizingData&&(this.showVariationFilters(e.sizingData),this.setState({showProductVariation:!0},function(){t.setState({showProductVariation:!0})}),this.setState({showVariation:!1},function(){t.setState({showVariation:!0},function(){Object(A.c)()})}))}},{key:"componentWillUnmount",value:function(){Object(A.e)();var e=Object(u.findFirst)(".hover-container"),t=window.matchMedia(k.a.desktopAndAbove).matches;this.props.isBrowserGrid&&t&&this.bodyClass("remove"),this.setState({variationsList:[],label:"",showProductVariation:!1}),null!=e&&o.a.unmountComponentAtNode(e)}},{key:"render",value:function(){var a=this,e=this.props,t=e.priceOverwrite,i=e.price,o=e.isMiniPdp,n=e.productId,r=e.miniPdp,s=e.isClickToPay,c=e.pdpConfig,d=e.sizingData,l=(e.addToCartConfig,e.tileData),p=0,u=void 0,f=Object(T.b)(),m=f.showCustomExperience,h=f.xrefPath;window.tiffany.pdpConfig.formattedPrice&&(u=(u=(u=I.get(window.tiffany.pdpConfig.formattedPrice)).replace(/\.00$/,"")).replace(" ","")),o?r.products&&r.products[n]&&(p=r.products[n].price):p=t.length?t:i;var g="";window.tiffany.authoredContent.onHoverProductTileConfig&&(g=window.tiffany.authoredContent.onHoverProductTileConfig.browsgridAddedToBagText);var b={label:c.emptyPrice="",isMotif:"",isColorSwatch:"",sizeGuideLabel:"Size Guide",sizeGuideIcon:"./icons/size_scale.png",sizeGuideIconAlt:"size guide icon",variations:[]};return null!=d&&null!==d.groupAttributes&&void 0!==d.groupAttributes&&(b={label:this.state.label,isMotif:!1,isColorSwatch:d.groupAttributes.isColorSwatch,sizeGuideLabel:"Size Guide",sizeGuideIcon:"./icons/size_scale.png",sizeGuideIconAlt:"size guide icon",groupTypeID:d.groupAttributes.groupTypeID,parentGroupSKU:2===d.groupAttributes.groupTypeID?d.groupAttributes.sku:"",variations:this.state.variationsList}),v.a.createElement(y.Fragment,null,this.props.isBrowserGrid&&this.state.showProductVariation&&v.a.createElement(B.default,{addToCartDispatchCall:this.addToCartDispatchCall,addToCartConfig:this.props.addtocartconfig,config:b,customClass:"compact-view",isBrowserGrid:this.props.isBrowserGrid,showThis:this.state.isProductSize,tileData:l,onClickVariationCallback:this.onClickVariationCallback,onHoverVariationCallback:this.onHoverVariationCallback,showVariation:this.state.showVariation,notifyWhenAvailable:this.props.notifyWhenAvailable}),v.a.createElement("div",{className:"product-description__"+(s?"clicktopay":"addtobag")+" "+(this.props.isBrowserGrid?"addtobag-browsegrid":"")},!m&&(s?v.a.createElement("button",{type:"button",disabled:this.state.isDisabled,className:"product-description__addtobag_btn "+(this.state.addToBagAnimation?"active-btn":"")+" "+(s?"click-to-pay":""),onClick:function(e){return a.addToCartHandler(e,{shouldStopCallback:!1})},"data-interaction-context":!0,"data-interaction-type":"checkout","data-interaction-name":"quick-pay",ref:this.addtobag_btn},v.a.createElement("div",{className:"product-description__addtobag_btn_curtain"}),v.a.createElement("div",{className:"product-description__addtobag_btn_text-static"},v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper"},this.props.showSplitUp&&p&&p.length&&p.map(function(e,t){return v.a.createElement("span",{key:t.toString(),className:"product-description__addtobag_btn_text-static_price-wrapper_price"},e?Object(E.a)(e):c.emptyPrice)}),this.props.showSplitUp&&p&&0===p.length&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},c.emptyPrice),!this.props.showSplitUp&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},p&&0<p.length?Object(E.a)(p.reduce(function(e,t){return e+t})):c.formattedPrice)),v.a.createElement(w.a,{query:k.a.desktopAndAbove},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton())),v.a.createElement(w.a,{query:k.a.desktopAndBelow},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton("isMobile"))))):v.a.createElement("button",{type:"button",disabled:this.state.isDisabled,className:_()("product-description__addtobag_btn",{"btn-addtobag-browsegrid":this.props.isBrowserGrid,"active-btn":this.state.addToBagAnimation,"shift-left-annim":this.state.shiftLeftAnnimation,"click-to-pay":s,hasVariation:this.props.isBrowserGrid&&this.state.showProductVariation,"variation-opened":this.props.isBrowserGrid&&this.state.showVariation,"variation-closed":this.props.isBrowserGrid&&!this.state.showVariation,"variation-clicked":this.props.isBrowserGrid&&this.state.isVariationClicked}),onClick:function(e){return a.addToCartHandler(e,{shouldStopCallback:!1})},ref:this.addtobag_btn,"data-interaction-context":this.props.isBrowserGrid&&this.props.isGroup?"":void 0,"data-interaction-type":this.props.isBrowserGrid&&this.props.isGroup?"grid-thumbnail":void 0,"data-interaction-name":this.props.isBrowserGrid&&this.props.isGroup?"add-to-bag-selector":void 0},this.props.isBrowserGrid?v.a.createElement("div",{className:"product-description__addtobag_btn_curtain"},v.a.createElement("span",null,g)):v.a.createElement("div",{className:"product-description__addtobag_btn_curtain"}),v.a.createElement("div",{className:"product-description__addtobag_btn_text-static"},v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper"},this.props.showSplitUp&&p&&p.length&&p.map(function(e,t){return v.a.createElement("span",{key:t.toString(),className:"product-description__addtobag_btn_text-static_price-wrapper_price"},a.props.isEngraving?1==t?Object(E.a)(e):u:e?Object(E.a)(e):u)}),this.state.variantHoverPrice&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},Object(E.a)(this.state.variantHoverPrice)),this.props.showSplitUp&&p&&0===p.length&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},c.emptyPrice),!this.props.showSplitUp&&!this.state.variantHoverPrice&&this.props.isBrowserGrid&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},p&&0<p.length?Object(E.a)(p.reduce(function(e,t){return e+t})):c.formattedPrice),!this.props.showSplitUp&&!this.state.variantHoverPrice&&!this.props.isBrowserGrid&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},this.props.isMiniPdp?Object(E.a)(p):u)),v.a.createElement(w.a,{query:k.a.desktopAndAbove},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton())),v.a.createElement(w.a,{query:k.a.desktopAndBelow},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton("isMobile")))))),m&&(s?v.a.createElement(S.a,{xrefPath:h,CTA:N.a.CLICK_TO_PAY},v.a.createElement("button",{type:"button",disabled:this.state.isDisabled,className:"product-description__addtobag_btn "+(this.state.addToBagAnimation?"active-btn":"")+" "+(s?"click-to-pay":""),onClick:function(){},"data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"add-to-bag-size-selector",ref:this.clicktopay_btn},v.a.createElement("div",{className:"product-description__addtobag_btn_curtain"}),v.a.createElement("div",{className:"product-description__addtobag_btn_text-static"},v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper"},this.props.showSplitUp&&p&&p.length&&p.map(function(e,t){return v.a.createElement("span",{key:t.toString(),className:"product-description__addtobag_btn_text-static_price-wrapper_price"},e?Object(E.a)(e):c.emptyPrice)}),this.props.showSplitUp&&p&&0===p.length&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},c.emptyPrice),!this.props.showSplitUp&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},p&&0<p.length?Object(E.a)(p.reduce(function(e,t){return e+t})):c.formattedPrice)),v.a.createElement(w.a,{query:k.a.desktopAndAbove},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton())),v.a.createElement(w.a,{query:k.a.desktopAndBelow},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton("isMobile")))))):v.a.createElement(S.a,{xrefPath:h,CTA:N.a.ADD_TO_BAG},v.a.createElement("button",{type:"button",disabled:this.state.isDisabled,className:_()("product-description__addtobag_btn",{"btn-addtobag-browsegrid":this.props.isBrowserGrid,"active-btn":this.state.addToBagAnimation,"shift-left-annim":this.state.shiftLeftAnnimation,"click-to-pay":s,hasVariation:this.props.isBrowserGrid&&this.state.showProductVariation,"variation-opened":this.props.isBrowserGrid&&this.state.showVariation,"variation-closed":this.props.isBrowserGrid&&!this.state.showVariation,"variation-clicked":this.props.isBrowserGrid&&this.state.isVariationClicked}),onClick:function(){},ref:this.addtobag_btn,"data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"add-to-bag-size-selector"},v.a.createElement("div",{className:"product-description__addtobag_btn_curtain"}),v.a.createElement("div",{className:"product-description__addtobag_btn_text-static"},v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper"},this.props.showSplitUp&&p&&p.length&&p.map(function(e,t){return v.a.createElement("span",{key:t.toString(),className:"product-description__addtobag_btn_text-static_price-wrapper_price"},a.props.isEngraving?1==t?Object(E.a)(e):u:e?Object(E.a)(e):u)}),this.state.variantHoverPrice&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},Object(E.a)(this.state.variantHoverPrice)),this.props.showSplitUp&&p&&0===p.length&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},c.emptyPrice),!this.props.showSplitUp&&!this.state.variantHoverPrice&&this.props.isBrowserGrid&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},p&&0<p.length?Object(E.a)(p.reduce(function(e,t){return e+t})):c.formattedPrice),!this.props.showSplitUp&&!this.state.variantHoverPrice&&!this.props.isBrowserGrid&&v.a.createElement("span",{className:"product-description__addtobag_btn_text-static_price-wrapper_price"},this.props.isMiniPdp?Object(E.a)(p):u)),v.a.createElement(w.a,{query:k.a.desktopAndAbove},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton())),v.a.createElement(w.a,{query:k.a.desktopAndBelow},v.a.createElement("div",{className:"product-description__addtobag_btn_text-static_addtobagtext"},this.textToShowOnButton("isMobile")))))))))}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));if(T.bodyClass=function(e){var t=Object(u.findFirst)("body"),a=T;"add"===e&&(Object(u.hasClass)(t,"atb-trigger-pending")||Object(u.addClass)(t,"atb-trigger-pending")),"remove"===e&&Object(u.hasClass)(t,"atb-trigger-pending")&&(Object(u.removeClass)(t,"atb-trigger-pending"),a.openShoppingBagFlyoutDispatchCall())},T.addToCartHandler=function(e,t){var a=t.shouldStopCallback,i=void 0!==a&&a;if(e&&e.preventDefault(),!T.state.isDisabled)if(!T.state.addToBagSuccess||T.props.isBrowserGrid){var o=T.state.addToCartConfig,n=T.props,r=n.engraving,s=n.shoppingBagItemId,c=n.isMiniPdp,d=(n.isBrowserGrid,c?1:T.props.selectedQuantity),l=c?T.props.config:T.props.pdpConfig;if(T.props.isEditEngraving)I.set(o,"payload.ShoppingBagItemId",s),I.set(o,"payload.ItemServicing.itemServiceTypeID",r.itemServiceTypeId),I.set(o,"payload.ItemServicing.style",r.styleCode),I.set(o,"payload.ItemServicing.text",""+r.initialOne+r.initialTwo+r.initialThree),I.set(o,"payload.ItemServicing.serviceQuantity",r.servicingQuantity||1);else if(I.get("addToCartConfig.payload")&&l){var p=o.payload.sku;if(I.set(o,"payload.quantity",d),I.set(o,"payload.categoryID",parseInt(l.categoryID,10)),I.set(o,"payload.masterCategoryID",parseInt(l.masterCategoryID,10)),I.set(o,"payload.partialShip","true"===l.partialShip),I.set(o,"payload.orderOriginationId",parseInt(l.orderOriginationId,10)),T.props.isBrowserGrid)if(T.props.isGroup){var u={method:"POST",url:window.tiffany.apiUrl.itemDetailsEndPoint,payload:{siteId:parseInt(window.tiffany.authoredContent.customDesignsSystemRequest.payload.siteid),assortmentId:parseInt(window.tiffany.authoredContent.customDesignsSystemRequest.payload.assortmentID),sku:o.payload.sku,priceMarketID:parseInt(window.tiffany.authoredContent.customDesignsSystemRequest.payload.priceMarketID)}};T.setState({isProductSize:!0}),T.state.showVariation?T.setState({showVariation:!1},function(){Object(A.e)()}):T.setState({showVariation:!0},function(){Object(A.c)()}),T.state.showProductVariation||(T.props.dispatch(Object(O.c)(!0)),T.props.dispatch(Object(P.b)(u)),T.props.dispatch(Object(O.c)(!1)))}else I.set(o,"payload.categoryID",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId,10)),I.set(o,"payload.masterCategoryID",window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID?parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID,10):""),I.set(o,"payload.orderOriginationId",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.OrderOriginationId,10)),I.set(o,"url",window.tiffany.apiUrl.skuEcomAddEndPoint),I.set(o,"payload.quantity",1);else o.groupTwoIdentifier?I.get(o,"payload.sku",!1)&&I.get(o,"payload.groupSku",!1)&&I.set(o,"payload.sku",p&&""!==p?parseInt(p,10):parseInt(l.selectedSku,10)):I.set(o,"payload.sku",p&&""!==p?parseInt(p,10):parseInt(l.selectedSku,10));if(T.props.isEngraving){var f=T.props.engraving,m=f.itemServiceTypeId,h=void 0===m?1:m,g=f.styleCode,b=void 0===g?290:g,y=f.initialOne,v=void 0===y?"":y,w=f.initialTwo,_=void 0===w?"":w,C=f.initialThree,E=void 0===C?"":C,k=f.servicingQuantity,S=void 0===k?1:k;I.set(o,"payload.itemServicing.itemServiceTypeID",h),I.set(o,"payload.itemServicing.style",b),I.set(o,"payload.itemServicing.text",""+v+_+E),I.set(o,"payload.itemServicing.serviceQuantity",S),I.set(o,"isBrowsegrid",!0)}}T.props.isBrowserGrid&&T.props.isGroup||T.addToCartDispatchCall(o,{shouldStopCallback:i})}else window.location.href=I.get(T.props.aem,"shoppingBagUrl")},T.openShoppingBagFlyoutDispatchCall=function(){T.props.dispatch(Object(P.c)(!0))},T.addToCartDispatchCall=function(g,e){var t=e.shouldStopCallback,b=void 0!==t&&t;T.props.dispatch(Object(P.a)(g,T.props.isBrowserGrid,function(e){var t=T.props.isMiniPdp?1:T.props.selectedQuantity,a=I.get(window,"dataLayer.product",{}),i=window.matchMedia(k.a.desktopAndAbove).matches;if(T.setState({addToBagAnimation:!0,isDisabled:!1}),T.props.isBrowserGrid){i&&T.bodyClass("add"),setTimeout(function(){var e=T,t=document.getElementsByClassName("product-description__addtobag_btn_text-static")[0];i&&(T.setState({shiftLeftAnnimation:!0,isVariationClicked:!1}),null!=t&&t.addEventListener("transitionend",function(){e.bodyClass("remove")},!1))},2e3),T.props.isGroup&&T.setState({showVariation:!1});var o=T.props.tileData,n=o.name,r=o.price,s=o.isGroup,c=o.sku,d=o.style,l=o.isEngraveable,p=o.itemMasterNumber,u=o.itemMaster,f=s?T.props.sizingData.group.isNew:T.props.tileData.isNew,m=!!s&&T.props.sizingData.groupAttributes.groupTypeID,h=window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId;a.name=n,a.categoryID=h||"",a.class=g.payload.class||T.props.tileData.class,a.price=r,a.groupSku=g.payload.groupSku||!1,a.sku=s?g.payload.sku:c,a.style=g.payload.style||d,a.isGroup=s||!1,a.isNew=f,a.groupType=m,a.itemMaster=p||u,a.isEngraveable=l||!1}a.quantity=t,a.itemMaster&&(a.itemMaster=a.itemMaster.trim()),T.setState({isDisabled:!1}),Object(C.setCartAnalytics)(a),T.setState({addToBagAnimation:!0,addToBagSuccess:!0}),setTimeout(function(){i?T.setState({isDisabled:!1,addToBagAnimation:!1,shiftLeftAnnimation:!1,addToBagSuccess:!1}):T.setState({isDisabled:!1,addToBagAnimation:!1})},T.props.animtimer),b||T.props.successCallBack(e),I.get(T.props,"aem.isEngravingExposed",!1)&&window.location.reload()},function(e){T.setState({isDisabled:!1}),console.warn("add to bag ajax failure"),console.warn(e),T.props.isEditEngraving&&T.props.isEngraving||e&&e.validationErrors&&e.validationErrors.ProductMaxQuantityLimitError&&T.props.maxQuantityCheckCallBack(e.validationErrors.ProductMaxQuantityLimitError),T.props.errorCallBack(e)}))},T.textToShowOnButton=function(e){var t=T.props,a=t.buttonText,i=t.labels,o=t.addToBagActiveTextForMobile,n=t.addToBagActive,r=t.addToBagHoverLabel,s=t.isBrowserGrid;return T.props.isBrowserGrid&&(i.addToBag=window.tiffany.authoredContent.onHoverProductTileConfig.browsgridAddToBagText,i.addToBagActive=window.tiffany.authoredContent.onHoverProductTileConfig.addToBagActive,i.notifyMeButtonLabel=I.get(T.props.aem,"productNotPurchasableConfig.notifyMeButtonText","Notify me when available")),T.props.isBrowserGrid&&T.props.tileData.isLowInventory?v.a.createElement("span",null," ",a||i.notifyMeButtonLabel||"NOTIFY ME "):T.state.addToBagSuccess&&!T.props.isBrowserGrid?v.a.createElement("span",null,a||(e?o||i.addToBagActiveTextForMobile:n||i.addToBagActive)||"Add to bag"):T.state.addToBagAnimation&&!T.props.isBrowserGrid?v.a.createElement("span",null,a||(e?o||i.addToBagActiveTextForMobile:n||i.addToBagActive)||"Add to bag"):s?v.a.createElement("div",null,v.a.createElement("span",null," ",a||i.addToBag||"Add to bag")):v.a.createElement("div",null,v.a.createElement("span",null," ",a||i.addToBag||"Add to bag"),v.a.createElement("span",null,a||r||i.addToBagHoverLabel||i.addToBag||"Add to bag"))},T.modifiersConfigConstruction=function(e){var t=[];null!==e.groupItems&&void 0!==e.groupItems&&(t=e.groupItems.sort(function(e,t){return e.displayOrder-t.displayOrder}).map(function(e){return{label:e.linkText,imageURL:e.imageUrlFormat,URL:e.friendlyURL,sku:e.memberSku,groupId:e.groupSku,isSelected:!1,storeAvailabilityCheck:e.itemRuleResult.showEmailWhenAvailable,showAddToShoppingBag:e.itemRuleResult.showAddToShoppingBag,price:e.price,removeFromAssortment:e.removeFromAssortment,optionItems:e}}));return t},T.onClickVariationCallback=function(){T.setState({showVariation:!1,isVariationClicked:!0})},T.onHoverVariationCallback=function(e){var t=T.props.sizingData;null!=t?2===t.groupAttributes.groupTypeID?T.setState({variantHoverPrice:e.optionItems.combinedFormattedPrice}):void 0!==e.optionItems.formattedPrice?T.setState({variantHoverPrice:e.optionItems.formattedPrice}):T.setState({variantHoverPrice:e.price}):null!=e.optionItems&&void 0!==e.optionItems.formattedPrice?T.setState({variantHoverPrice:e.optionItems.formattedPrice}):T.setState({variantHoverPrice:e.price})},T.addToBagGroupTwoItem=function(e,t){var a=T.props.addtocartconfig;I.set(a,"payload.categoryID",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId,10)),I.set(a,"payload.masterCategoryID",window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID?parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID,10):""),I.set(a,"payload.orderOriginationId",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.OrderOriginationId,10)),I.set(a,"payload.priceMarketID",window.tiffany.authoredContent.customDesignsSystemRequest.payload.priceMarketID),I.set(a,"url",window.tiffany.apiUrl.skuEcomAddGroupTypeTwoEndPoint),I.set(a,"payload.parentGroupSKU",t),I.set(a,"payload.quantity",1),I.set(a,"payload.sku",parseInt(e,10)),T.addToCartDispatchCall(a,{shouldStopCallback:!1})},T.showVariationFilters=function(e){var t=void 0,a=[],i={},o="";if(null!=(t=null==e?T.state.sizingData:e)){if(2===t.groupAttributes.groupTypeID){var n=t.groupItems.every(function(e){return!1===e.isGroup});if(n){T.setState({showProductVariation:!1});var r=t.groupItems[0].memberSku,s=e.groupAttributes.sku;if(T.props.isBrowserGrid&&T.props.tileData.isLowInventory){var c=T.props.tileData,d=c.name,l=c.isGroup,p=c.style,u=c.isEngraveable,f=c.isNew;i.name=d,i.categoryID=window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId,i.class=T.props.tileData.class,i.groupSku=t.groupItems[0].memberSku,i.sku=t.groupItems[0].memberSku,i.style=p,i.isGroup=l,i.isNew=f,i.groupType=T.props.config.groupTypeID,i.isEngraveable=u,i.price=t.groupItems[0].price,T.props.notifyWhenAvailable(i,T.props.tileData)}else T.addToBagGroupTwoItem(r,s)}else n||(o=void 0!==t.groupItems[0].groupItems&&0<t.groupItems[0].groupItems.length?(a=T.modifiersConfigConstruction(t.groupItems[0]),t.groupItems[0].groupAttributes.groupDropDownLabel):(a=T.modifiersConfigConstruction(t.groupItems[1]),t.groupItems[1].groupAttributes.groupDropDownLabel))}else a=T.modifiersConfigConstruction(t),o=t.groupAttributes.groupDropDownLabel;T.setState({variationsList:a,label:o})}},T.addtobag_btn=v.a.createRef(),T.clicktopay_btn=v.a.createRef(),T.props.isMiniPdp){var t=null,a=T.props,i=a.miniPdp,o=a.productId,n=a.addtocartconfig;t=n&&o?i.products&&i.products[o]&&i.products[o][n]:{},T.state={addToBagAnimation:!1,addToCartConfig:JSON.parse(JSON.stringify(t)),isDisabled:!1}}else{var r=T.props,s=r.isEngraving,c=r.isEditEngraving,d=r.addtocartconfig,l=r.aem,p=void 0;p=T.props.isBrowserGrid?d:JSON.parse(JSON.stringify(s||c?d:l[d])),T.state={addToBagAnimation:!1,shiftLeftAnnimation:!1,addToCartConfig:p,isDisabled:!1,isProductSize:!1,showVariation:!1,isVariationClicked:!1,variationsList:[],label:void 0,showProductVariation:!1}}return T}m.propTypes={price:r.a.array.isRequired,addToBagActive:r.a.bool,addToBagActiveTextForMobile:r.a.string,addToBagHoverLabel:r.a.string,aem:r.a.object.isRequired,dispatch:r.a.func.isRequired,selectedQuantity:r.a.number.isRequired,addtocartconfig:r.a.any.isRequired,pdpConfig:r.a.shape({selectedSku:r.a.string.isRequired,categoryID:r.a.number.isRequired,masterCategoryID:r.a.number.isRequired,orderOriginationId:r.a.number.isRequired,partialShip:r.a.bool.isRequired}).isRequired,labels:r.a.object.isRequired,priceOverwrite:r.a.array,showSplitUp:r.a.bool,isEngraving:r.a.bool,isClickToPay:r.a.bool,isEditEngraving:r.a.bool,engraving:r.a.object,errorCallBack:r.a.func,successCallBack:r.a.func,buttonText:r.a.string,shoppingBagItemId:r.a.string,isMiniPdp:r.a.bool,miniPdp:r.a.object.isRequired,animtimer:r.a.any,productId:r.a.string,config:r.a.any,isBrowserGrid:r.a.bool,isGroup:r.a.bool,isVariationClicked:r.a.bool},m.defaultProps={showSplitUp:!1,isEngraving:!1,isClickToPay:!1,isEditEngraving:!1,engraving:{},errorCallBack:function(){},successCallBack:function(){},buttonText:"",priceOverwrite:[],addToBagHoverLabel:"",shoppingBagItemId:"",isMiniPdp:!1,addToBagActive:!1,addToBagActiveTextForMobile:"",productId:"",animtimer:5e3,config:{},isBrowserGrid:!1,isGroup:!1,isVariationClicked:!1},t.default=Object(c.connect)(function(e){return{aem:e.aem,selectedQuantity:e.productDetails.selectedQuantity,pdpConfig:e.productDetails.pdpConfig,labels:e.authoredLabels,price:e.productDetails.productData.price,sizingData:e.productDetails.sizingData,triggerCTA:Object(T.a)(e.ringFlyout,N.a.ADD_TO_BAG),shouldExecuteCTA:e.ringFlyout.shouldExecuteCTA,engraving:e.engraving.variant||{itemServiceTypeId:1,styleCode:290,initialOne:"",initialTwo:"",initialThree:"",servicingQuantity:1},miniPdp:e.miniPdp}})(m)},212:function(e,t,a){"use strict";var b=a(0),y=a.n(b),v=a(7),w=a(501),_=a(16),C=a(19),E=a(128),k=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,o=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){o=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=function(a){function i(){h&&g(Object(E.c)(h)),n(!o)}var e=Object(b.useState)(!1),t=k(e,2),o=t[0],n=t[1],r=Object(b.useState)(!1),s=k(r,2),c=s[0],d=s[1],l=Object(b.useState)(""),p=k(l,2),u=p[0],f=p[1],m=a.xrefPath,h=a.CTA,g=Object(v.useDispatch)();return Object(b.useEffect)(function(){o&&(_.a.makeAjaxRequest({url:m},function(e){return f(e)},function(e){return d(!0)}),Object(C.a)("global-header",!1))},[o]),y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{role:"presentation",onClick:i,onKeyDown:function(e){return t=e,a.triggerKeyPressEvent&&(13===t.keyCode||32===t.keyCode)&&i();var t}},a.children),o&&y.a.createElement(w.a,{showFlyout:o,onClose:function(){h&&g(Object(E.a)()),Object(C.d)("global-header",!0),n(!1)},showCloseButton:!0,ringFlyoutAnalytics:!0},!c&&y.a.createElement("div",{dangerouslySetInnerHTML:{__html:u}})))}},213:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o});var d=a(131),l=a(16),p=a(427),u=a(1),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},i=function(e,c){return function(s){l.a.makeAjaxRequest(e,function(e){var t=JSON.parse(JSON.stringify(e));if(t&&t.productDetailsConfig){var a=u.get(e,"pdpConfig.isGroup",!1);a&&(t.productDetailsConfig.url=t.productDetailsConfig.groupUrl);var i=Object(p.a)(t),o=u.get(e,"pdpConfig.selectedSku",""),n=i.productDetailsConfig,r={url:n.url,method:n.method,payload:f({},n.payload)};a?u.set(r,"payload.sku",u.get(e,"pdpConfig.sku","")):u.set(r,"payload.sku",o),l.a.makeAjaxRequest(r,function(e){e&&e.resultDto&&(i.price=[],i.price.push(e.resultDto.price)),s({type:d.a.SET_MINI_PDP_DATA,payload:{res:i,productId:c}})})}},function(e){})}},o=function(t,a){return function(e){e({type:d.a.TOGGLE_MINI_PDP,payload:{productId:t,open:a}})}}},241:function(e,t,a){var i=a(90);e.exports=function(e){return"function"==typeof e?e:i}},242:function(e,t,a){var i=a(214),o=a(536),n=Object.prototype.hasOwnProperty,r=o(function(e,t,a){n.call(e,a)?e[a].push(t):i(e,a,[t])});e.exports=r},256:function(e,t,a){"use strict";a.r(t);var i=a(0),T=a.n(i),o=a(2),n=a.n(o),r=a(7),s=a(5),I=a.n(s),c=a(10),A=a.n(c),P=a(1);function d(e,t){this.domNode=e,this.menu=t,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})}d.prototype.init=function(){this.domNode.tabIndex=-1,this.domNode.getAttribute("role")||this.domNode.setAttribute("role","menuitem"),this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this))},d.prototype.handleKeydown=function(e){var t=!1,a=e.key;function i(e){return 1===e.length&&e.match(/\S/)}if(!(e.ctrlKey||e.altKey||e.metaKey||e.keyCode===this.keyCode.SPACE||e.keyCode===this.keyCode.RETURN)){if(e.shiftKey)i(a)&&(this.menu.setFocusByFirstCharacter(this,a),t=!0),e.keyCode===this.keyCode.TAB&&(this.menu.setFocusToController(),this.menu.close(!0));else switch(e.keyCode){case this.keyCode.ESC:this.menu.setFocusToController(),this.menu.close(!0),t=!0;break;case this.keyCode.UP:this.menu.setFocusToPreviousItem(this),t=!0;break;case this.keyCode.DOWN:this.menu.setFocusToNextItem(this),t=!0;break;case this.keyCode.HOME:case this.keyCode.PAGEUP:this.menu.setFocusToFirstItem(),t=!0;break;case this.keyCode.END:case this.keyCode.PAGEDOWN:this.menu.setFocusToLastItem(),t=!0;break;case this.keyCode.TAB:this.menu.setFocusToController(),this.menu.close(!0);break;default:i(a)&&this.menu.setFocusByFirstCharacter(this,a)}t&&(e.stopPropagation(),e.preventDefault())}},d.prototype.handleClick=function(e){this.menu.setFocusToController(),this.menu.close(!0)},d.prototype.handleFocus=function(e){this.menu.hasFocus=!0},d.prototype.handleBlur=function(e){this.menu.hasFocus=!1,this.menu.close.bind(this.menu,!1)};var l=a(9);function p(e,t){var a="PopupMenuLinks constructor argument domNode ";if(!e instanceof Element)throw new TypeError(a+"is not a DOM Element.");if(0===e.childElementCount)throw new Error(a+"has no element children.");for(var i=e.firstElementChild;i;)i=i.nextElementSibling;this.domNode=e,this.controller=t,this.wrapperClass=null,this.menuitems=[],this.firstChars=[],this.firstItem=null,this.lastItem=null,this.hasFocus=!1,this.hasHover=!1}function u(e){this.domNode=e,this.popupMenu=!1,this.hasFocus=!1,this.hasHover=!1,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:65})}p.prototype.init=function(e){var t,a,i,o,n,r;for(this.domNode.tabIndex=-1,this.wrapperClass=e,this.domNode.setAttribute("role","menu"),this.domNode.getAttribute("aria-labelledby")||this.domNode.getAttribute("aria-label")||this.domNode.getAttribute("title")||(r=this.controller.domNode.innerHTML,this.domNode.setAttribute("aria-label",r)),t=this.domNode.firstElementChild;t;)(a=t.querySelector("a"))&&"A"===a.tagName&&((i=new d(a,this)).init(),this.menuitems.push(i),o=a.textContent.trim(),this.firstChars.push(o.substring(0,1).toLowerCase())),t=t.nextElementSibling;0<(n=this.menuitems.length)&&(this.firstItem=this.menuitems[0],this.lastItem=this.menuitems[n-1])},p.prototype.setFocusToController=function(e){"string"!=typeof e&&(e=""),"previous"===e?this.controller.menubar.setFocusToPreviousItem(this.controller):"next"===e?this.controller.menubar.setFocusToNextItem(this.controller):this.controller.domNode.focus()},p.prototype.setFocusToFirstItem=function(){this.firstItem.domNode.focus()},p.prototype.setFocusToLastItem=function(){this.lastItem.domNode.focus()},p.prototype.setFocusToPreviousItem=function(e){var t;e===this.firstItem?this.lastItem.domNode.focus():(t=this.menuitems.indexOf(e),this.menuitems[t-1].domNode.focus())},p.prototype.setFocusToNextItem=function(e){var t;e===this.lastItem?this.firstItem.domNode.focus():(t=this.menuitems.indexOf(e),this.menuitems[t+1].domNode.focus())},p.prototype.setFocusByFirstCharacter=function(e,t){var a,i;t=t.toLowerCase();(a=this.menuitems.indexOf(e)+1)===this.menuitems.length&&(a=0),-1===(i=this.getIndexFirstChars(a,t))&&(i=this.getIndexFirstChars(0,t)),-1<i&&this.menuitems[i].domNode.focus()},p.prototype.getIndexFirstChars=function(e,t){for(var a=e;a<this.firstChars.length;a++)if(t===this.firstChars[a])return a;return-1},p.prototype.open=function(){this.wrapperClass&&l(this.wrapperClass).slideToggle("fast","linear"),this.controller.domNode.setAttribute("aria-expanded","true")},p.prototype.close=function(e){!e&&(this.hasFocus||this.hasHover||this.controller.hasHover)||(this.wrapperClass&&l(this.wrapperClass).slideToggle("fast","linear"),this.controller.domNode.removeAttribute("aria-expanded"))},u.prototype.init=function(e,t){if(this.domNode){this.domNode.setAttribute("aria-haspopup","true"),this.domNode.removeEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.removeEventListener("click",this.handleClick.bind(this)),this.domNode.removeEventListener("focus",this.handleFocus.bind(this)),this.domNode.removeEventListener("blur",this.handleBlur.bind(this)),this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.selectedClass=t;var a=document.getElementById(this.domNode.getAttribute("aria-controls"));a&&(this.popupMenu=new p(a,this),this.popupMenu.init(e))}},u.prototype.handleKeydown=function(e){var t=!1;switch(e.keyCode){case this.keyCode.DOWN:case this.keyCode.SPACE:case this.keyCode.RETURN:case this.keyCode.ENTER:if(this.popupMenu&&(this.popupMenu.open(),this.selectedClass)){var a=document.getElementsByClassName(this.selectedClass);a&&a.length&&a[a.length-1].focus()}t=!0;break;case this.keyCode.UP:this.popupMenu&&(this.popupMenu.open(),this.popupMenu.setFocusToLastItem(),t=!0)}t&&(e.stopPropagation(),e.preventDefault())},u.prototype.handleClick=function(e){"true"==this.domNode.getAttribute("aria-expanded")?this.popupMenu.close(!0):(this.popupMenu.open(),this.popupMenu.setFocusToFirstItem())},u.prototype.handleFocus=function(e){this.popupMenu.hasFocus=!0},u.prototype.handleBlur=function(e){this.popupMenu.hasFocus=!1};var w=a(213),f=a(33),O=a(401),N=a(212),B=a(52),D=a(6),x=a(37),_=a(8),R=a(14),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},m=function(e,t,a){return t&&h(e.prototype,t),a&&h(e,a),e};function h(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g=a(9),b=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,T.a.Component),m(y,[{key:"componentDidMount",value:function(){this.productVariationHandler(),window.addEventListener("resize",this.productVariationHandler),window.addEventListener("toggleSizeFlyout",this.toggleSizeFlyoutHandler)}},{key:"componentDidUpdate",value:function(){this.props.dispatch(Object(f.c)(!0))}},{key:"componentWillReceiveProps",value:function(e){this.fixingReduxIssueWithProps(e)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.productVariationHandler),window.removeEventListener("toggleSizeFlyout",this.toggleSizeFlyoutHandler)}},{key:"render",value:function(){var a=this,e=this.state,t=e.productVariationsData,i=void 0===t?{}:t,o=e.productVariationsData.variations,n=void 0===o?[]:o,r=e.isVariationsOpen,s=void 0!==r&&r,c=e.isFlyoutCta,d=void 0!==c&&c,l=this.props,p=l.isBrowserGrid,u=(l.config,l.isMiniPdp),f=l.ringSizeSelected,m=this.props.isFIIS;null!=m&&!1!==m||(m=!1);var h=n.filter(function(e){return e.isSelected})[0]||n[0]||{},g=P.get(i,"sizeGuideLabel",""),b=P.get(i,"sizeGuideIcon",""),y=0<n.length&&2<n[0].label.length?"large-buttons":"",v=Object(B.b)(),w=v.showCustomExperience,_=v.xrefPath,C=v.isCustomExperienceItemSelected,E=v.selectedRingSize,k=m&&(C&&!w||!C&&w),S=!C&&w&&""===f;return 0<n.length&&this.props.showThis&&T.a.createElement(T.a.Fragment,null,!C&&w&&!m&&!u&&T.a.createElement(N.a,{xrefPath:_,triggerKeyPressEvent:!0},T.a.createElement("div",{role:"button",tabIndex:"0",className:"modifiers__container_details ring-size","aria-label":"Find Your Ring Size","data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"find-size"},T.a.createElement("span",{className:"ring-size--button"},i.findSizeLabel),T.a.createElement("i",{className:"icon-right modifiers__container_dropdownbutton ring-size--icon"}))),C&&!w&&!m&&!u&&T.a.createElement(N.a,{xrefPath:_,triggerKeyPressEvent:!0},T.a.createElement("div",{role:"button",tabIndex:"0",className:"modifiers__container_details ring-size","aria-label":"Find Your Ring Size","data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"find-size"},T.a.createElement("span",{className:"ring-size--button"},i.label+" "+E),T.a.createElement("i",{className:"icon-right modifiers__container_dropdownbutton ring-size--icon"}))),(!w&&!C||k)&&T.a.createElement("div",{className:"modifiers__container "+(p?"modifiers-browsegrid":"")+" "+(this.props.showVariation?"":"hasModifiers")+" "+this.props.customClass},!p&&T.a.createElement("div",{className:"modifiers__container_details  "+(p?"hide":"")},T.a.createElement("div",{className:"modifiers__container_sizeguide_wrap"},T.a.createElement("span",{className:"modifiers__container_type"},i.label),T.a.createElement(A.a,{query:D.a.desktopAndAbove},g&&!m&&T.a.createElement("button",{type:"button",className:"modifiers__container_sizeguide cta-underline",ref:this.sizeButton,onClick:this.openSizeGuideModal,"data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"size-guide",tabIndex:-1},T.a.createElement(O.default,{isFlyoutCta:d,ctaLabel:i.sizeGuideLabel,flyoutData:""}))),T.a.createElement(A.a,{query:D.a.desktopAndBelow},b&&!m&&T.a.createElement("button",{type:"button",className:"modifiers__container_sizeguide_icon btn",onClick:this.openSizeGuideModal,"data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"size-guide",tabIndex:-1},T.a.createElement(O.default,{isFlyoutCta:d,ctaLabel:i.sizeGuideIcon,iconAlt:i.sizeGuideIconAlt,flyoutData:"",isMobileDevice:!0}))),T.a.createElement("div",{className:"modifiers__container_dropdownbutton"},(i.isMotif||i.isColorSwatch)&&h.imageURL&&T.a.createElement(R.a,{defaultSrc:h.imageURL+"?wid=20&hei=20",altText:h.imageAlt||h.label,isLazyLoad:!1,customClass:i.isColorSwatch?"modifiers__container_dropdownlist_image circle-image":"modifiers__container_dropdownlist_image"}),T.a.createElement(A.a,{query:D.a.desktopAndBelow},T.a.createElement("div",{className:"modifiers__container_dropdownbutton_select"},T.a.createElement("select",{id:"modifiers_select","aria-label":this.state.modifierAriaLabel+" "+i.label,className:"select-list",dir:"rtl",onChange:this.onVariationsSelect},w&&!C&&T.a.createElement("option",{value:""}),n.map(function(e,t){return T.a.createElement("option",{"data-sku":e.sku,value:(a.props.isMiniPdp||a.props.isFIIS)&&e.sku?e.sku:e.URL,label:e.label,selected:(!w||""!==f)&&e.isSelected,dir:"auto",key:e.label},e.label)})),T.a.createElement("img",{src:this.props.dropdownSrc,alt:this.props.dropdownAltText,className:"down-arrow"}))),T.a.createElement(A.a,{query:D.a.desktopAndAbove},m?T.a.createElement("button",{type:"button","aria-label":this.state.modifierAriaLabel+" "+i.label+", "+h.label,"aria-haspopup":"true",id:"menubuttonfiis","aria-controls":"menu3",ref:function(e){a.menuElemButtonFIISOverlay=e},className:"button "+(S?"button--empty":""),onClick:this.toggleVariationsDropdown},S?"":h.label,T.a.createElement("span",{className:"icon icon-dropdown-"+(s?"up":"down")})):T.a.createElement("button",{type:"button","aria-label":this.state.modifierAriaLabel+" "+i.label+", "+h.label,"aria-haspopup":"true",id:"menubutton","aria-controls":"menu2",ref:function(e){a.menuElemButton=e},className:"button",onClick:this.toggleVariationsDropdown},h.label,T.a.createElement("span",{className:"icon icon-dropdown-"+(s?"up":"down")})))),T.a.createElement(A.a,{query:D.a.desktopAndBelow},b&&!m&&T.a.createElement("button",{type:"button",className:"modifiers__container_sizeguide_icon btn compact",onClick:this.openSizeGuideModal,"data-interaction-context":"","data-interaction-type":"tab-activity","data-interaction-name":"size-guide",tabIndex:-1},T.a.createElement(O.default,{isFlyoutCta:d,ctaLabel:i.sizeGuideIcon,iconAlt:i.sizeGuideIconAlt,flyoutData:"",isMobileDevice:!0}))))),T.a.createElement(A.a,{query:D.a.desktopAndAbove},T.a.createElement("div",{className:I()("dropdownlist-animation-wrapper",{"annim-slide-up":this.props.isBrowserGrid&&this.props.showVariation,"fiis-overlay":m})},p&&T.a.createElement("div",{className:"size-overlay-header"},this.state.productVariationsData.label),p&&T.a.createElement(x.a,{ref:this.currentScroll},T.a.createElement("ul",{"aria-expanded":s,role:"menu",id:"menu2","aria-labelledby":"menubutton",className:I()("modifiers__container_dropdownlist",{imageAvailable:i.isMotif||i.isColorSwatch})},n.map(function(t,e){return!t.removeFromAssortment&&T.a.createElement("li",{role:"none",className:"modifiers__container_dropdownlist_item "+y,key:t.label,onMouseOver:function(){return a.variantHover(t)},onFocus:function(){return a.variantHover(t)}},(t.storeAvailabilityCheck||!t.showAddToShoppingBag)&&T.a.createElement("div",{className:"modifiers__container_dropdownlist_item--link"},T.a.createElement("a",{role:"menuitem","aria-setsize":n.length,"aria-posinset":e+1,tabIndex:"0","aria-label":t.label,href:t.URL,onClick:function(e){a.notifyCall(e,t)},className:"modifier-link modifier-link--disabled"},(i.isMotif||i.isColorSwatch)&&t.imageURL&&T.a.createElement(R.a,{defaultSrc:t.imageURL+"?wid=20&hei=20",altText:t.imageAlt||t.label,isLazyLoad:!1,customClass:i.isColorSwatch?"modifiers__container_dropdownlist_image circle-image":"modifiers__container_dropdownlist_image"}),T.a.createElement("span",{className:"label"},t.label))),!t.storeAvailabilityCheck&&t.showAddToShoppingBag&&T.a.createElement("div",{className:"modifiers__container_dropdownlist_item--link"},T.a.createElement("a",{role:"menuitem","aria-setsize":n.length,"aria-posinset":e+1,tabIndex:"0","aria-label":t.label,href:t.URL,onClick:function(e){a.onVariationsSelect(e,!0,t.sku,t.groupId,t.URL,t.optionItems)},className:I()("modifier-link",{"modifier-link-selected":!w&&t.isSelected||w&&!C})},(i.isMotif||i.isColorSwatch)&&t.imageURL&&T.a.createElement(R.a,{defaultSrc:t.imageURL+"?wid=20&hei=20",altText:t.imageAlt||t.label,isLazyLoad:!1,customClass:i.isColorSwatch?"modifiers__container_dropdownlist_image circle-image":"modifiers__container_dropdownlist_image"}),T.a.createElement("span",{className:"label"},t.label))))}))),!p&&m&&T.a.createElement("ul",{"aria-expanded":s,role:"menu",id:"menu3","aria-labelledby":"menubuttonfiis",className:I()("modifiers__container_dropdownlist",{imageAvailable:i.isMotif||i.isColorSwatch})},n.map(function(t,e){return T.a.createElement("li",{role:"none",className:"modifiers__container_dropdownlist_item "+y,key:t.label,onMouseOver:function(){return a.variantHover(t)},onFocus:function(){return a.variantHover(t)}},T.a.createElement("div",{className:"modifiers__container_dropdownlist_item--link"},T.a.createElement("a",{role:"menuitem","aria-setsize":n.length,"aria-posinset":e+1,tabIndex:"0","aria-label":t.label,href:t.URL,onClick:function(e){a.onVariationsSelect(e,!0,t.sku,t.groupId,t.URL,t.optionItems,t.label)},className:"modifier-link "+((!w||""!==f)&&t.isSelected&&"modifier-link-selected")},(i.isMotif||i.isColorSwatch)&&t.imageURL&&T.a.createElement(R.a,{defaultSrc:t.imageURL+"?wid=20&hei=20",altText:t.imageAlt||t.label,isLazyLoad:!1,customClass:i.isColorSwatch?"modifiers__container_dropdownlist_image circle-image":"modifiers__container_dropdownlist_image"}),T.a.createElement("span",{className:"label"},t.label))))})),!p&&!m&&T.a.createElement("ul",{"aria-expanded":s,role:"menu",id:"menu2","aria-labelledby":"menubutton",className:I()("modifiers__container_dropdownlist",{imageAvailable:i.isMotif||i.isColorSwatch})},n.map(function(t,e){return T.a.createElement("li",{role:"none",className:"modifiers__container_dropdownlist_item "+y,key:t.label,onMouseOver:function(){return a.variantHover(t)},onFocus:function(){return a.variantHover(t)}},T.a.createElement("div",{className:"modifiers__container_dropdownlist_item--link"},T.a.createElement("a",{role:"menuitem","aria-setsize":n.length,"aria-posinset":e+1,tabIndex:"0","aria-label":t.label,href:t.URL,onClick:function(e){a.onVariationsSelect(e,!0,t.sku,t.groupId,t.URL,t.optionItems)},className:I()("modifier-link",{"modifier-link-selected":t.isSelected})},(i.isMotif||i.isColorSwatch)&&t.imageURL&&T.a.createElement(R.a,{defaultSrc:t.imageURL+"?wid=20&hei=20",altText:t.imageAlt||t.label,isLazyLoad:!1,customClass:i.isColorSwatch?"modifiers__container_dropdownlist_image circle-image":"modifiers__container_dropdownlist_image"}),T.a.createElement("span",{className:"label"},t.label))))}))))))}}]),y);function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,e));return v.fixingReduxIssueWithProps=function(e){var t=e.productId,a=e.config,i=e.miniPdp,o={},n=void 0!==v.state&&v.state.productVariationsClick;if(v.props.isMiniPdp)t===v.props.productId&&(a&&(o=i.products&&i.products[t]&&i.products[t][a])&&o.variations&&i.products[i.productId].selectedSku&&o.variations.map(function(e){e.sku===i.products[i.productId].selectedSku?e.isSelected=!0:e.isSelected=!1}),v.state={productVariationsData:o,isVariationsOpen:!1,modifierAriaLabel:v.props.labels.modifierAriaLabel,productVariationsClick:n});else{if(a&&"string"==typeof a){var r=v.props.pdpConfig[a];o=void 0!==v.props.aem.engagementpdpConfig&&v.props.aem.engagementpdpConfig[a]||r||{}}v.props.isBrowserGrid&&(o=a),v.state={productVariationsData:o,isVariationsOpen:!1,modifierAriaLabel:v.props.labels.modifierAriaLabel,productVariationsClick:n}}},v.addToCartVariationsSelect=function(e,t,a,i,o){var n=v.props.config;if(v.props.dispatch(Object(f.c)(!0)),!v.state.productVariationsClick){v.setState({productVariationsClick:!0});var r=v.props.addToCartConfig;P.set(r,"payload.categoryID",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId,10)),P.set(r,"payload.masterCategoryID",window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID?parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.MasterCategoryID,10):""),P.set(r,"payload.orderOriginationId",parseInt(window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.OrderOriginationId,10)),P.set(r,"payload.priceMarketID",window.tiffany.authoredContent.customDesignsSystemRequest.payload.priceMarketID),2===n.groupTypeID?(P.set(r,"url",window.tiffany.apiUrl.skuEcomAddGroupTypeTwoEndPoint),P.set(r,"payload.parentGroupSKU",n.parentGroupSKU)):P.set(r,"url",window.tiffany.apiUrl.skuEcomAddGroupTypeOneEndPoint),P.set(r,"payload.groupSku",i),P.set(r,"payload.style",o.style),P.set(r,"payload.class",o.class),P.set(r,"payload.quantity",1),P.set(r,"payload.sku",parseInt(a,10)),v.props.addToCartDispatchCall(r,{shouldStopCallback:!1})}},v.onVariationsSelect=function(t,a,i,e){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:t.target.href,n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(v.props.onClickVariationCallback&&v.props.onClickVariationCallback(),v.props.isMiniPdp||v.props.isFIIS){var r=v.state.productVariationsData;if(v.props.isFIIS){var s=_.b("fiisInitalLoad"),c=void 0;r.variations.forEach(function(e,t){!0===e.isSelected&&(c=e.sku)}),s||_.e("fiisInitalLoad",c,{secure:!0},!0)}r.variations.map(function(e){e.sku===(a?i:t.target.value)?e.isSelected=!0:e.isSelected=!1});v.setState({productVariationsData:r})}var d=v.state.productVariationsData,l={},p="";if(t.preventDefault(),l=i?d.variations.filter(function(e){return e.sku===i}):d.variations.filter(function(e){return e.sku===t.target.value}),v.props.isMiniPdp){var u=void 0;l.length&&(u=l[0].sku,p=P.get(l[0],"groupId","")),e&&(p=e);var f=v.props.miniPdp,m=(v.props.aem&&v.props.aem.miniPdpConfig).request,h=f.products,g=!0===p||void 0===p||""===p?m.url.replace("group-GRP.",""):m.url.replace("GRP",p),b=C({},m,{url:!0===u||void 0===u?g.replace(".sku-SKU",""):g.replace("SKU",u)}),y=p?p+"_"+u:u;y&&h&&!h[y]?v.props.dispatch(Object(w.a)(b,y)):a&&i||y&&h&&h[y]?v.props.dispatch(Object(w.b)(y,!0)):a&&(o||t.target.href)?window.location=o||t.target.href:window.location=t.target.value,v.toggleVariationsDropdown()}else{if(a&&v.toggleVariationsDropdown(),v.props.isFIIS)return void(a?v.props.onClickVariationFIISCallback(t,a,i,e,n):v.props.onClickVariationFIISCallback(t,a,t.target.value,e,n));if(v.props.isBrowserGrid)return void v.addToCartVariationsSelect(t,a,i,e,n);v.props.isEngagement?window.location=o||t.target.href||t.target.value:1===Object.keys(l).length&&l[0]?window.location=l[0].URL:window.location=t.target.value}},v.getHeaderHeight=function(){var t=0;return[".stick.header__nav-container"].forEach(function(e){t+=g(e).outerHeight()?g(e).outerHeight():0}),t},v.toggleSizeFlyoutHandler=function(e){window.matchMedia(D.a.desktopAndAbove).matches;if("close"===e.detail&&v.sizeButton&&v.sizeButton.current&&(v.setState({isVariationsOpen:!1}),v.sizeButton.current.focus()),"close"===e.detail){var t=_.b("fiisInitalLoad"),a=v.state.productVariationsData.variations;if(a){if(t)a.map(function(e){e.sku===t?e.isSelected=!0:e.isSelected=!1});v.state.productVariationsData.variations=a,v.state.isVariationsOpen=!1,v.forceUpdate(),_.c("fiisInitalLoad")}}},v.openSizeGuideModal=function(){v.setState({isFlyoutCta:!0})},v.toggleVariationsDropdown=function(){1<=P.get(v.state,"productVariationsData.variations",[]).length&&v.setState({isVariationsOpen:!v.state.isVariationsOpen})},v.productVariationHandler=function(){v.props.isFIIS?v.menuElemButtonFIISOverlay&&!v.menuButtonFiiS&&(v.menuButtonFiiS=new u(v.menuElemButtonFIISOverlay),v.menuButtonFiiS.init(".dropdownlist-animation-wrapper.fiis-overlay","modifier-link-selected")):v.menuElemButton&&!v.menuButton&&(v.menuButton=new u(v.menuElemButton),v.menuButton.init(".dropdownlist-animation-wrapper","modifier-link-selected"))},v.notifyCall=function(e,t){e.preventDefault(),v.props.onClickVariationCallback&&v.props.onClickVariationCallback();var a={};if(v.props.isBrowserGrid)if(void 0===t||t.showAddToShoppingBag||t.storeAvailabilityCheck){var i=v.props.tileData,o=i.name,n=i.isGroup,r=(i.sku,i.style,i.isEngraveable),s=i.isNew,c=window.tiffany.authoredContent.onHoverProductTileConfig.productPayload.CategoryId;a.name=o,a.categoryID=c||"",a.class=t.optionItems.class,a.groupSku=t.optionItems.groupSku,a.sku=t.optionItems.memberSku,a.style=t.optionItems.style,a.isGroup=n,a.isNew=s,a.groupType=v.props.config.groupTypeID,a.isEngraveable=r,a.price=t.price,a.storeAvailabilityCheck=t.storeAvailabilityCheck,a.productName=t.optionItems.title,v.props.notifyWhenAvailable(a,v.props.tileData)}else window.location=void 0===e.target.href?t.URL:e.target.href},v.variantHover=function(e){v.props.onHoverVariationCallback&&v.props.onHoverVariationCallback(e)},v.currentScroll=T.a.createRef(),v.sizeButton=T.a.createRef(),v.fixingReduxIssueWithProps(v.props),v}b.propTypes={pdpConfig:n.a.object.isRequired,config:n.a.object.isRequired,labels:n.a.object.isRequired,customClass:n.a.string,aem:n.a.any.isRequired,dropdownSrc:n.a.string.isRequired,dropdownAltText:n.a.string.isRequired,isMiniPdp:n.a.bool,miniPdp:n.a.any.isRequired,productId:n.a.string,dispatch:n.a.func.isRequired,isEngagement:n.a.bool,isBrowserGrid:n.a.bool,showThis:n.a.bool},b.defaultProps={customClass:"",isMiniPdp:!1,productId:"",isEngagement:!1,isBrowserGrid:!1,showThis:!0};t.default=Object(r.connect)(function(e){return{pdpConfig:e.productDetails.pdpConfig,labels:e.authoredLabels,aem:e.aem,dropdownSrc:P.get(e,"aem.icons.dropdown.src",""),dropdownAltText:P.get(e,"aem.icons.dropdown.altText",""),miniPdp:e.miniPdp,ringSizeSelected:P.get(e,"ringFlyout.fiisSize","")}})(b)},284:function(e,t,a){var n=a(126);e.exports=function(e,i){var o=[];return n(e,function(e,t,a){i(e,t,a)&&o.push(e)}),o}},29:function(e,t,a){"use strict";t.a=function(e,t){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return"DIGIT";case 9:return t?"BACKTAB":"TAB";case 13:return"ENTER";case 27:return"ESCAPE";case 32:return"SPACE";case 37:return"LEFTARROW";case 38:return"UPARROW";case 39:return"RIGHTARROW";case 40:return"DOWNARROW"}}},419:function(e,t,a){var i=a(243),o=a(241),n=a(153);e.exports=function(e,t){return null==e?e:i(e,o(t),n)}},501:function(e,t,a){"use strict";function i(e){var t=Object(l.useState)(!1),a=y(t,2),i=a[0],o=a[1],n=Object(l.useRef)(),r=e.showCloseButton,s=e.ringFlyoutAnalytics;function c(){Object(b.d)("global-header",!0),e.onClose()}function d(e){"ESCAPE"===Object(g.a)(e.keyCode,e.shiftKey)&&c()}return Object(l.useEffect)(function(){o(!0),n.current&&h.a.setScopeLimit(n.current)},[]),p.a.createElement("div",{className:"tiffany-right-modal"},p.a.createElement(f.a,{query:m.a.desktopAndAbove},p.a.createElement("div",{className:"tiffany-right-modal__overlay "+(e.showFlyout?"tiffany-right-modal__overlay--show":""),role:"button",tabIndex:0,onClick:c,onKeyDown:function(e){return d(e)}})),p.a.createElement("div",{className:"tiffany-right-modal__body "+(e.showFlyout?"tiffany-right-modal__body--show":"")+" "+(s?"modal--size-guide":"")+" "+(i?"tiffany-right-modal__body--annimate":""),role:"button",tabIndex:-1,onKeyDown:function(e){return d(e)},ref:n},p.a.createElement(u.a,{iosEnable:!0},r&&p.a.createElement("button",{type:"button",className:"icon-Close search-results_close","aria-label":"Close",onClick:c,"data-interaction-context":s?"find-size-flyout":"","data-interaction-type":s?"icon":"","data-interaction-name":s?"close":""}),e.children)))}var l=a(0),p=a.n(l),o=a(2),n=a.n(o),u=a(37),r=a(10),f=a.n(r),m=a(6),s=a(32),h=a.n(s),g=(a(662),a(29)),b=a(19),y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],i=!0,o=!1,n=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){o=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};i.propTypes={showFlyout:n.a.bool},i.defaultProps={showFlyout:!1},t.a=i},536:function(e,t,a){var r=a(537),s=a(538),c=a(80),d=a(31);e.exports=function(o,n){return function(e,t){var a=d(e)?r:s,i=n?n():{};return a(e,o,c(t,2),i)}}},537:function(e,t){e.exports=function(e,t,a,i){for(var o=-1,n=null==e?0:e.length;++o<n;){var r=e[o];t(i,r,a(r),e)}return i}},538:function(e,t,a){var r=a(126);e.exports=function(e,i,o,n){return r(e,function(e,t,a){i(n,e,o(e),a)}),n}},539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=a(730),n=(i=o)&&i.__esModule?i:{default:i};t.default=n.default,e.exports=t.default},662:function(e,t){},684:function(e,t,a){"use strict";a.r(t);var i=a(0),o=a.n(i),n=a(2),r=a.n(n),s=a(7),c=a(1),d=a(194),l=function(e,t,a){return t&&p(e.prototype,t),a&&p(e,a),e};function p(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,o.a.Component),l(m,[{key:"render",value:function(){var e=c.get(this.props.aem,this.props.clickToPayConfig,{}),t=this.props.addToCartConfig;return o.a.createElement(d.default,{addtocartconfig:t,successCallBack:this.redirectToCheckout,buttonText:e.clickToPayText,isClickToPay:!0})}}]),m);function m(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=a=u(this,(e=m.__proto__||Object.getPrototypeOf(m)).call.apply(e,[this].concat(o)))).redirectToCheckout=function(){var e=c.get(a.props.aem[a.props.clickToPayConfig],"clickToPayURL","");void 0!==e&&(window.location.href=e)},u(a,t)}f.defaultProps={clickToPayConfig:"clickToPayConfig",addToCartConfig:"addToCartConfig"},f.propTypes={aem:r.a.object.isRequired,clickToPayConfig:r.a.string,addToCartConfig:r.a.string},t.default=Object(s.connect)(function(e){return{aem:e.aem}})(f)},730:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e};function o(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=a(0),r=d(n),s=a(2),c=d(a(182));function d(e){return e&&e.__esModule?e:{default:e}}var l={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(l);var p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,n.Component),i(u,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new c.default(this._container,this.props.options||this.props.option),this._updateEventHook()}},{key:"componentDidUpdate",value:function(e){this._updateEventHook(e),this._ps.update()}},{key:"componentWillUnmount",value:function(){var a=this;Object.keys(this._handlerByEvent).forEach(function(e){var t=a._handlerByEvent[e];t&&a._container.removeEventListener(e,t,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(e){var n=this,r=0<arguments.length&&void 0!==e?e:{};Object.keys(l).forEach(function(e){var t=n.props[l[e]],a=r[l[e]];if(t!==a){if(a){var i=n._handlerByEvent[e];n._container.removeEventListener(e,i,!1),n._handlerByEvent[e]=null}if(t){var o=function(){return t(n._container)};n._container.addEventListener(e,o,!1),n._handlerByEvent[e]=o}}})}},{key:"updateScroll",value:function(){this._ps.update()}},{key:"handleRef",value:function(e){this._container=e,this.props.containerRef(e)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.component,i=e.className,o=e.style,n=a;return r.default.createElement(n,{style:o,className:"scrollbar-container "+i,ref:this.handleRef},t)}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.handleRef=t.handleRef.bind(t),t._handlerByEvent={},t}(t.default=p).defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,component:"div"},p.propTypes={children:s.PropTypes.node.isRequired,className:s.PropTypes.string,style:s.PropTypes.object,option:s.PropTypes.object,options:s.PropTypes.object,containerRef:s.PropTypes.func,onScrollY:s.PropTypes.func,onScrollX:s.PropTypes.func,onScrollUp:s.PropTypes.func,onScrollDown:s.PropTypes.func,onScrollLeft:s.PropTypes.func,onScrollRight:s.PropTypes.func,onYReachStart:s.PropTypes.func,onYReachEnd:s.PropTypes.func,onXReachStart:s.PropTypes.func,onXReachEnd:s.PropTypes.func,component:s.PropTypes.string},e.exports=t.default}}]);